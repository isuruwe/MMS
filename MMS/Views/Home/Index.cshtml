@*@model IEnumerable<POR.Web.Models.DashBoadModel>*@

@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_LayoutNav.cshtml";
}

@{

//int co =Convert.ToInt32( Model.Count());
//List<string> PHList = new List<string>();
//List<int> PHValue = new List<int>();
//int d = Enumerable.Count(ViewBag.odailypatient);
//string[] ph = new string[d];
//int[] pval = new int[d];
//string[] phvalue = { };
//int i = 0;

//foreach (var item in ViewBag.odailypatient)
//{

//    ph[i] = item.locid.ToString();
//    //int c = Enumerable.Count(item);
//    PHList.Add(ph[i]);
//    pval[i] = item.loccount;
//    PHValue.Add(pval[i]);
//    i = i + 1;
//}

//string[] month = { "January", "February", "March", "April", "May", "June", "July" };
//string monthval = "'" + string.Join("','", PHList) + "'";
//string PhValue = "'" + string.Join("','", PHValue) + "'";
//string val = "800";

//List<POR.Web.Models.UserModel> objmovement = new List<POR.Web.Models.UserModel>();

//if (ViewBag.ProfileData != null)
//{
//    foreach (var item in ViewBag.ProfileData)
//    {
//        //WebApplication8.Models.UserModel obju = new WebApplication8.Models.UserModel();
//        //obju.UserName = item.UserName;
//        //obju.ServiceNo = item.ServiceNo;
//        //obju.Rank = item.Rank;
//        //obju.LName = item.LName;
//        //objmovement.Add(obju);
//    }
//}
}
@*<script src="~/Scripts/Angular/angular.js"></script>
<script src="~/Scripts/angular.min.js"></script>
<script src="~/Scripts/angular-route.js"></script>
<script src="@Url.Content("~/Scripts/js/jquery.min.js")"></script>

<script src="~/Scripts/js/jquery.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Scripts/ui-bootstrap-tpls-1.3.3.min.js"></script>
<link rel="stylesheet" href="~/Scripts/css/bootstrap.min.css">
<link rel="stylesheet" href="~/Scripts/css/font-awesome.min.css">
<link rel="stylesheet" href="~/Scripts/css/animate.min.css">
<link rel="stylesheet" href="~/Scripts/css/et-line-font.css">
<link rel="stylesheet" href="~/Scripts/css/nivo-lightbox.css">
@*<link rel="stylesheet" href="~/Scripts/css/nivo_themes/default/default.css">*@
@*<link rel="stylesheet" href="~/Scripts/css/style.css">*@


@*<script src="~/Scripts/js/bootstrap.min.js"></script>*@
@*<script src="~/Scripts/js/smoothscroll.js"></script>
<script src="~/Scripts/js/isotope.js"></script>
<script src="~/Scripts/js/imagesloaded.min.js"></script>
<script src="~/Scripts/js/nivo-lightbox.min.js"></script>
<script src="~/Scripts/js/jquery.backstretch.min.js"></script>
<script src="~/Scripts/js/wow.min.js"></script>
<script src="~/Scripts/js/custom.js"></script>*@
<link href="@Url.Content("~/Scripts/css/bootstrap.min.css")" rel="stylesheet">
<link href="@Url.Content("~/Scripts/css/datepicker3.css")" rel="stylesheet">
<link href="@Url.Content("~/Scripts/css/styles.css")" rel="stylesheet">

<!--Icons-->
<script src="@Url.Content("~/Scripts/js/lumino.glyphs.js")"></script>

<script src="@Url.Content("~/Scripts/js/jquery.min.js")"></script>
<script src="@Url.Content("~/Scripts/js/bootstrap.min.js")"></script>
<script src="@Url.Content("~/Scripts/js/chart.min.js")"></script>


@*<script type="text/javascript" src="~/Scripts/loader.js">

  // Load the Visualization API and the piechart package.
  google.load('visualization', '1.0', {'packages':['corechart']});

  // Set a callback to run when the Google Visualization API is loaded.
  google.setOnLoadCallback(drawChart);

  function drawChart() {
      var data = new google.visualization.DataTable();
      data.addColumn('string', '@Model.locid');
      data.addColumn('number', '@Model.loccount');


      // don't forget to add JQuery in your view.
      $.getJSON("@Url.Action("GetChart")", null, function (chartData) {
          $.each(chartData, function (i, item) {
              data.addRow([item.Year, item.Sale, item.Purchase]);
          });

          var options = {
              title: 'Sale and Purchase Compare',
              hAxis: { title: '@Model.YearTitle', titleTextStyle: { color: 'red' } }
          };

          var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
          chart.draw(data, options);
      });
  }
</script>*@


@*<script type="text/javascript">
    var randomScalingFactor = function () { return Math.round(Math.random() * 1000) };

            var lineChartData = {
        labels: [@Html.Raw(monthval)],
        datasets: [
            {
        label: "My First dataset",
                fillColor: "rgba(220,220,220,0.2)",
                strokeColor: "rgba(220,220,220,1)",
                pointColor: "rgba(220,220,220,1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(220,220,220,1)",
                data:  [@Html.Raw(PhValue)],
        },
            {

        label: "My Second dataset",
                fillColor: "rgba(48, 164, 255, 0.2)",
                strokeColor: "rgba(48, 164, 255, 1)",
                pointColor: "rgba(48, 164, 255, 1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(48, 164, 255, 1)",
                data: [@Html.Raw(PhValue)]
    }
        ]

    }

    var barChartData = {
        labels: ["January", "February", "March", "April", "May", "June", "July"],
        datasets: [
            {
                fillColor: "rgba(220,220,220,0.5)",
                strokeColor: "rgba(220,220,220,0.8)",
                highlightFill: "rgba(220,220,220,0.75)",
                highlightStroke: "rgba(220,220,220,1)",
                data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()]
            },
            {
                fillColor: "rgba(48, 164, 255, 0.2)",
                strokeColor: "rgba(48, 164, 255, 0.8)",
                highlightFill: "rgba(48, 164, 255, 0.75)",
                highlightStroke: "rgba(48, 164, 255, 1)",
                data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()]
            }
        ]

    }



    window.onload = function () {
        var chart1 = document.getElementById("line-chart").getContext("2d");
        window.myLine = new Chart(chart1).Line(lineChartData, {
        responsive: true
        });
        //var chart2 = document.getElementById("bar-chart").getContext("2d");
        //window.myBar = new Chart(chart2).Bar(barChartData, {
        //responsive: true
        //});
        //var chart3 = document.getElementById("doughnut-chart").getContext("2d");
        //window.myDoughnut = new Chart(chart3).Doughnut(doughnutData, {
        //responsive: true
        //});
        //var chart4 = document.getElementById("pie-chart").getContext("2d");
        //window.myPie = new Chart(chart4).Pie(pieData, {
        //responsive: true
        //});

    };
</script>*@




<div class="row">
    <!--<div class="col-md-5">-->
        @*<h2>Getting started</h2>*@
        @*<p>
                <img src="@ViewBag.ImageData" width="20%" height="20%" />
            </p>
            <p><label>Service No:</label>  @ViewBag.Serviceno</p>
            <p><label>Rank:</label>  @ViewBag.Rank</p>
            <p><label>Name:</label>  @ViewBag.ProfileData </p>*@

    <!--</div>-->


    <!--<div class="col-md-4">-->
        @*<h2>Sign Out</h2>*@
        @*  @Html.ActionLink("logout", "Logoff", "Home")*@
        @*<p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
            <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301867">More &raquo;</a></p>*@
    <!--</div>-->

    <div id="sidebar-collapse" class="col-sm-3 col-lg-2 sidebar">
       <div>
           <a class="" href=""><img  src="~/Content/Images/logo.png"/></a>
       </div>
    
     <form role="search">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="Search">
            </div>
        </form>
        <ul class="nav menu">
            <li class="active"><a href="index.html"><svg class="glyph stroked dashboard-dial"><use xlink:href="#stroked-dashboard-dial"></use></svg> Dashboard</a></li>
            @*<li><a href="widgets.html"><svg class="glyph stroked calendar"><use xlink:href="#stroked-calendar"></use></svg> Widgets</a></li>
                <li><a href="charts.html"><svg class="glyph stroked line-graph"><use xlink:href="#stroked-line-graph"></use></svg> Charts</a></li>
                <li><a href="tables.html"><svg class="glyph stroked table"><use xlink:href="#stroked-table"></use></svg> Tables</a></li>
                <li><a href="forms.html"><svg class="glyph stroked pencil"><use xlink:href="#stroked-pencil"></use></svg> Forms</a></li>
                <li><a href="panels.html"><svg class="glyph stroked app-window"><use xlink:href="#stroked-app-window"></use></svg> Alerts &amp; Panels</a></li>
                <li><a href="icons.html"><svg class="glyph stroked star"><use xlink:href="#stroked-star"></use></svg> Icons</a></li>*@
            <li class="parent ">
                @*<a href="#">
                        <span data-toggle="collapse" href="#sub-item-1"><svg class="glyph stroked chevron-down"><use xlink:href="#stroked-chevron-down"></use></svg></span> Dropdown
                    </a>*@
                <ul class="children collapse" id="sub-item-1">
                    <li>
                        <a class="" href="#">
                            <svg class="glyph stroked chevron-right"><use xlink:href="#stroked-chevron-right"></use></svg> Sub Item 1
                        </a>
                    </li>
                    <li>
                        <a class="" href="#">
                            <svg class="glyph stroked chevron-right"><use xlink:href="#stroked-chevron-right"></use></svg> Sub Item 2
                        </a>
                    </li>
                    <li>
                        <a class="" href="#">
                            <svg class="glyph stroked chevron-right"><use xlink:href="#stroked-chevron-right"></use></svg> Sub Item 3
                        </a>
                    </li>
                </ul>
            </li>
            <li role="presentation" class="divider"></li>
            <li>@*<a href="index.html"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> Login Out</a>*@</li>
        </ul>

    </div><!--/.sidebar-->

    <div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">



        <!--<div class="row">
            <div class="col-lg-12">
                <h1 class="page-header"></h1>
            </div>
        </div>--><!--/.row-->

        <div class="row">
            @*<div class="col-xs-12 col-md-6 col-lg-3">
                <div class="panel panel-blue panel-widget ">
                    <div class="row no-padding">
                        <div class="col-sm-3 col-lg-5 widget-left">
                            <svg class="glyph stroked bag"><use xlink:href="#stroked-bag"></use></svg>
                        </div>
                        <div class="col-sm-9 col-lg-7 widget-right">
                            <div class="large">@ViewBag.TotalPOR</div>
                            <div class="text-muted">HMS</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-6 col-lg-3">
                <div class="panel panel-orange panel-widget">
                    <div class="row no-padding">
                        <div class="col-sm-3 col-lg-5 widget-left">
                            <svg class="glyph stroked empty-message"><use xlink:href="#stroked-empty-message"></use></svg>
                        </div>
                        <div class="col-sm-9 col-lg-7 widget-right">
                            <div class="large">@ViewBag.StnPOR</div>
                            <div class="text-muted">@ViewBag.Location</div>
                        </div>
                    </div>
                </div>
            </div>*@
            @*<div class="col-xs-12 col-md-6 col-lg-3">
                    <div class="panel panel-teal panel-widget">
                        <div class="row no-padding">
                            <div class="col-sm-3 col-lg-5 widget-left">
                                <svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg>
                            </div>
                            <div class="col-sm-9 col-lg-7 widget-right">
                                <div class="large">24</div>
                                <div class="text-muted">New Users</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-3">
                    <div class="panel panel-red panel-widget">
                        <div class="row no-padding">
                            <div class="col-sm-3 col-lg-5 widget-left">
                                <svg class="glyph stroked app-window-with-content"><use xlink:href="#stroked-app-window-with-content"></use></svg>
                            </div>
                            <div class="col-sm-9 col-lg-7 widget-right">
                                <div class="large">25.2k</div>
                                <div class="text-muted">Page Views</div>
                            </div>
                        </div>
                    </div>
                </div>*@
        </div><!--/.row-->
        <h3 ><span>@Session["cldet"]</span>  <span id="h1"></span></h3>
        <input class="form-control" type="date" id="yerc" value="2020-01-01" />
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading"></div>
                    <div class="panel-body">
                        <div class="canvas-wrapper"  id="c2">
                            @*<canvas class="main-chart" id="line-chart" height="200" width="600"></canvas>*@
                            <canvas  id="LineChart" height="200" width="600"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div><!--/.row-->

    </div>
    @section scripts {
    <script src="~/Scripts/Chart.js"></script>
    <script src="~/Scripts/Common.js"></script>

    <script>
        $(document).ready(function () {

            document.getElementById('yerc').valueAsDate = new Date();

        });
        $(function () {
            $("#yerc").change(function () {
                debugger;
              //  $('#MultiLineChart').remove();
                $('#LineChart').remove();
                //$('#Chart1').remove();
                //$('#Chart2').remove();

              //  $('#c1').append('<canvas id="MultiLineChart" width="400" height="150"></canvas>');
                $('#c2').append('<canvas id="LineChart" width="400" height="150"></canvas>');
                //$('#c3').append('<canvas id="Chart1" width="400" height="150"></canvas>');
                //$('#c4').append('<canvas id="Chart2" width="400" height="150"></canvas>');

                //var myLineChart = null;
                var v = $(this).val();
                //var v1 = $("#loc").val();
                $('#h1').text(" -"+v);
                //var c = document.getElementById("MultiLineChart");
                //var ctx = c.getContext("2d");
                //var tData = $.getValues("/MMS/Manage/MultiLineChartData?id=" + v);
                //if (myLineChart) {
                //   myLineChart.destroy();
                //}
                // myLineChart = new Chart(ctx, {
                //    type: 'line',
                //    data: tData
                // });
                // myLineChart.update();
                //----Multi Line Chart---------
                 var myLineChart1 = null;
                 if (myLineChart1) {
                     window.myLineChart1.destroy();
                 }
                var c = document.getElementById("LineChart");
                var ctx = c.getContext("2d");
                var tData = $.getValues("/MMS/Home/LineChartData?id=" + v);

                 myLineChart1 = new Chart(ctx, {
                    type: 'line',
                    data: tData
                 });
                 myLineChart1.update();
                //----Multi Line Chart---------
                // var myLineChart2 = null;
                // if (myLineChart2) {
                //     myLineChart2.destroy();
                // }
                //var c = document.getElementById("Chart1");
                //var ctx = c.getContext("2d");
                //var tData = $.getValues("/Manage/Chart1?id=" + v);
                // myLineChart2 = new Chart(ctx, {
                //    type: 'line',
                //    data: tData
                // });
                // myLineChart2.update();
                //----Multi Line Chart---------
                // var myLineChart3 = null;
                // if (myLineChart3) {
                //     myLineChart3.destroy();
                // }

                //var c = document.getElementById("Chart2");
                //var ctx = c.getContext("2d");
                //var tData = $.getValues("/Manage/Chart2?id=" + v);
                // myLineChart3 = new Chart(ctx, {
                //    type: 'line',
                //    data: tData
                // });
                // myLineChart3.update();

            });
        });
        debugger;
        document.getElementById('yerc').valueAsDate = new Date();
      //  $('#MultiLineChart').remove();
        $('#LineChart').remove();
        //$('#Chart1').remove();
        //$('#Chart2').remove();

      //  $('#c1').append('<canvas id="MultiLineChart" width="400" height="150"></canvas>');
        $('#c2').append('<canvas id="LineChart" width="400" height="150"></canvas>');
        //$('#c3').append('<canvas id="Chart1" width="400" height="150"></canvas>');
        //$('#c4').append('<canvas id="Chart2" width="400" height="150"></canvas>');
        //----Line Chart---------
        //var myLineChart4 = null;
        //if (myLineChart4 ) {
        //    myLineChart4.destroy();

        //}
        var f = $("#yerc").val();
        //var c = document.getElementById("MultiLineChart");
        //var ctx = c.getContext("2d");
        //var tData = $.getValues("/MMS/Manage/MultiLineChartData?id=" + f);
        // myLineChart4 = new Chart(ctx, {
        //    type: 'line',
        //    data: tData
        // });
        // myLineChart4.update();
        //----Multi Line Chart---------
         var myLineChart5 = null;
         if (myLineChart5) {
             myLineChart5.destroy();
         }
        var c = document.getElementById("LineChart");
        var ctx = c.getContext("2d");
        var tData = $.getValues("/MMS/Home/LineChartData?id=" + f);
         myLineChart5 = new Chart(ctx, {
            type: 'line',
            data: tData
         });
         myLineChart5.update();
        //----Multi Line Chart---------
        // var myLineChart6 = null;
        // if (myLineChart6 ) {
        //     myLineChart6.destroy();
        // }
        //var c = document.getElementById("Chart1");
        //var ctx = c.getContext("2d");
        //var tData = $.getValues("/MMS/Manage/Chart1?id=" + f);
        // myLineChart6 = new Chart(ctx, {
        //    type: 'line',
        //    data: tData
        // });
        // myLineChart6.update();
        //----Multi Line Chart---------
        // debugger;
        // var myLineChart7 = null;
        // if (myLineChart7 ) {
        //     myLineChart7.destroy();
        // }
        //var c = document.getElementById("Chart2");
        //var ctx = c.getContext("2d");
        //var tData = $.getValues("/MMS/Manage/Chart2?id="+f);
        // myLineChart7 = new Chart(ctx, {
        //    type: 'line',
        //    data: tData
        // });
        // myLineChart7.update();
    </script>}